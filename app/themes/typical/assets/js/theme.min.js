!function(a){a(function(){FastClick.attach(document.body);var b=(a(window),a("html"),a("body"));window.History;a(".control-toggle, .icon-toggle").on("click",function(){b.toggleClass("open-menu")}),b.addClass("loaded");!function(){var b=!1;a(document).on("click","[data-sort]",function(){var c=a(this).data("sort"),d=a(".list .container"),e=[],f=a.map(a(".list article"),function(b){var d=a(b).find("[data-"+c+"]").data("time")||a.trim(a(b).find("[data-"+c+"]").text());return e.push({article:b,name:d}),d});f.sort(),b&&f.reverse(),a(".list article").remove(),a.each(f,function(b,c){a.each(e,function(a,b){b&&b.name&&b.name===c&&(d.append(b.article),e.splice(a,1))})}),b=!b})}();!function(){var b;a("#media-text img").each(function(){b=a(this),b.parents("a").length||b.wrap('<a href="'+b.attr("src")+'" target="_blank"></a>')}),a("#media-text a img, a.main-img").each(function(){a(this).parents("a").addClass("gallery")});var c=a(".plus-sign");a("a.gallery").mouseenter(function(a){c.show()}).mouseleave(function(a){c.hide()}).mousemove(function(a){c.css({top:a.pageY,left:a.pageX})}),a("#media-text iframe").each(function(){a(this).wrap('<div class="iframe-wrap"></div>')}),a("a.gallery").magnificPopup({type:"image",tLoading:"",closeBtnInside:!1,closeOnBgClick:!0,overflowY:"scroll",mainClass:"mfp-fade",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1],arrowMarkup:'<div class="mfp-arrow mfp-arrow-%dir%"></div>',tPrev:"",tNext:"",tCounter:""},image:{tError:'<a href="%url%">image #%curr%</a> could not be loaded.',titleSrc:"caption"}})}();var c=function(b){b.addClass("loading"),a.ajax({url:themeAjax.ajax_url,type:"POST",dataType:"json",data:{action:"add_to_cart_single",nonce:themeAjax.nonce,product_id:b.data("product_id"),variation_id:a('input[name="variation_id"]').val(),quantity:a('input[name="quantity"]').val()},success:function(c){b.removeClass("loading"),a(".cart-count").html(c.html),a(".added-msg, .single_checkout_button").show(),a("#basket-link").toggleClass("has-prds",c.count),setTimeout(function(){a(".added-msg").hide()},3e3)}})};!function(){a(document).on("click",".single_add_to_cart_button",function(b){b.preventDefault(),c(a(this).parents("form"))}),a(".product form.cart").submit(function(b){b.preventDefault(),c(a(this))})}();var d=function(c,d){a.ajax({url:themeAjax.ajax_url,type:"POST",dataType:"json",data:{action:"change_quantity",nonce:themeAjax.nonce,cart_item_key:c,quantity:d},success:function(c){if(!c.count)return void(window.location.href=a("a.invisible-link").attr("href"));a(".cart-count").html(c.html),a("#basket-link").toggleClass("has-prds",c.count),b.trigger("update_checkout")}})};return void function(){a(document).on("click",".actions .plus",function(b){var c=a(this).parents(".btns");d(c.data("id"),1+(0|c.data("qnt")))}),a(document).on("click",".actions .minus",function(b){var c=a(this).parents(".btns");d(c.data("id"),(0|c.data("qnt"))-1)}),a(document).on("click",".actions .dlt",function(b){d(a(this).data("id"),0)})}()})}(jQuery);